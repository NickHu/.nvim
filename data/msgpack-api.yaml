# nvim --api-info | python -c 'import msgpack, sys, yaml; print yaml.dump(msgpack.unpackb(sys.stdin.read()))' > api.yaml

error_types:
  Exception: {id: 0}
  Validation: {id: 1}

functions:
- name: buffer_line_count
  can_fail: true
  async: false
  parameters:
  - [Buffer, buffer]
  return_type: Integer

- name: buffer_get_line
  can_fail: true
  async: false
  parameters:
  - [Buffer, buffer]
  - [Integer, index]
  return_type: String

- name: buffer_set_line
  can_fail: true
  async: false
  parameters:
  - [Buffer, buffer]
  - [Integer, index]
  - [String, line]
  return_type: void

- name: buffer_del_line
  can_fail: true
  async: false
  parameters:
  - [Buffer, buffer]
  - [Integer, index]
  return_type: void

- name: buffer_get_line_slice
  async: false
  can_fail: true
  parameters:
  - [Buffer, buffer]
  - [Integer, start]
  - [Integer, end]
  - [Boolean, include_start]
  - [Boolean, include_end]
  return_type: ArrayOf(String)

- name: buffer_set_line_slice
  async: false
  can_fail: true
  parameters:
  - [Buffer, buffer]
  - [Integer, start]
  - [Integer, end]
  - [Boolean, include_start]
  - [Boolean, include_end]
  - [ArrayOf(String), replacement]
  return_type: void

- name: buffer_get_var
  async: false
  can_fail: true
  parameters:
  - [Buffer, buffer]
  - [String, name]
  return_type: Object

- name: buffer_set_var
  async: false
  can_fail: true
  parameters:
  - [Buffer, buffer]
  - [String, name]
  - [Object, value]
  return_type: Object

-name: buffer_get_option 
  async: false
  can_fail: true
  parameters:
  - [Buffer, buffer]
  - [String, name]
  return_type: Object

- name: buffer_set_option
  async: false
  can_fail: true
  parameters:
  - [Buffer, buffer]
  - [String, name]
  - [Object, value]
  return_type: void

- name: buffer_get_number
  async: false
  can_fail: true
  parameters:
  - [Buffer, buffer]
  return_type: Integer

- name: buffer_get_name
  async: false
  can_fail: true
  parameters:
  - [Buffer, buffer]
  return_type: String

- name: buffer_set_name
  async: false
  can_fail: true
  parameters:
  - [Buffer, buffer]
  - [String, name]
  return_type: void

- name: buffer_is_valid
  async: false
  parameters:
  - [Buffer, buffer]
  return_type: Boolean

- name: buffer_insert
  async: false
  can_fail: true
  parameters:
  - [Buffer, buffer]
  - [Integer, lnum]
  - [ArrayOf(String), lines]
  return_type: void

- name: buffer_get_mark
  async: false
  can_fail: true
  parameters:
  - [Buffer, buffer]
  - [String, name]
  return_type: ArrayOf(Integer, 2)

- name: tabpage_get_windows
  async: false
  can_fail: true
  parameters:
  - [Tabpage, tabpage]
  return_type: ArrayOf(Window)

- name: tabpage_get_var
  async: false
  can_fail: true
  parameters:
  - [Tabpage, tabpage]
  - [String, name]
  return_type: Object

- name: tabpage_set_var
  async: false
  can_fail: true
  parameters:
  - [Tabpage, tabpage]
  - [String, name]
  - [Object, value]
  return_type: Object

- name: tabpage_get_window
  async: false
  can_fail: true
  parameters:
  - [Tabpage, tabpage]
  return_type: Window

- name: tabpage_is_valid
  async: false
  parameters:
  - [Tabpage, tabpage]
  return_type: Boolean

- name: vim_command
  async: false
  can_fail: true
  parameters:
  - [String, str]
  return_type: void

- name: vim_feedkeys
  async: false
  parameters:
  - [String, keys]
  - [String, mode]
  - [Boolean, escape_csi]
  return_type: void

- name: vim_input
  async: true
  parameters:
  - [String, keys]
  return_type: Integer

- name: vim_replace_termcodes
  async: false
  parameters:
  - [String, str]
  - [Boolean, from_part]
  - [Boolean, do_lt]
  - [Boolean, special]
  return_type: String

- name: vim_command_output
  async: false
  can_fail: true
  parameters:
  - [String, str]
  return_type: String

- name: vim_eval
  async: false
  can_fail: true
  parameters:
  - [String, str]
  return_type: Object

- name: vim_call_function
  async: false
  can_fail: true
  parameters:
  - [String, fname]
  - [Array, args]
  return_type: Object

- name: vim_strwidth
  async: false
  can_fail: true
  parameters:
  - [String, str]
  return_type: Integer

- name: vim_list_runtime_paths
  async: false
  parameters: []
  return_type: ArrayOf(String)

- name: vim_change_directory
  async: false
  can_fail: true
  parameters:
  - [String, dir]
  return_type: void

- name: vim_get_current_line
  async: false
  can_fail: true
  parameters: []
  return_type: String

- name: vim_set_current_line
  async: false
  can_fail: true
  parameters:
  - [String, line]
  return_type: void

- name: vim_del_current_line
  async: false
  can_fail: true
  parameters: []
  return_type: void

- name: vim_get_var
  can_fail: true
  async: false 
  parameters:
  - [String, name]
  return_type: Object

- name: vim_set_var
  async: false
  can_fail: true
  parameters:
  - [String, name]
  - [Object, value]
  return_type: Object

- name: vim_get_vvar
  async: false
  can_fail: true
  parameters:
  - [String, name]
  return_type: Object

- name: vim_get_option
  async: false
  can_fail: true
  parameters:
  - [String, name]
  return_type: Object

- name: vim_set_option
  async: false
  can_fail: true
  parameters:
  - [String, name]
  - [Object, value]
  return_type: void

- name: vim_out_write
  async: false
  parameters:
  - [String, str]
  return_type: void

- name: vim_err_write
  async: false
  parameters:
  - [String, str]
  return_type: void

- name: vim_report_error
  async: false
  parameters:
  - [String, str]
  return_type: void

- name: vim_get_buffers
  async: false
  parameters: []
  return_type: ArrayOf(Buffer)

- name: vim_get_current_buffer
  async: false
  parameters: []
  return_type: Buffer

- name: vim_set_current_buffer
  async: false
  can_fail: true
  parameters:
  - [Buffer, buffer]
  return_type: void

- name: vim_get_windows
  async: false
  parameters: []
  return_type: ArrayOf(Window)

- name: vim_get_current_window
  async: false
  parameters: []
  return_type: Window

- name: vim_set_current_window
  async: false
  can_fail: true
  parameters:
  - [Window, window]
  return_type: void

- name: vim_get_tabpages
  async: false
  parameters: []
  return_type: ArrayOf(Tabpage)

- name: vim_get_current_tabpage
  async: false
  parameters: []
  return_type: Tabpage

- name: vim_set_current_tabpage
  async: false
  can_fail: true
  parameters:
  - [Tabpage, tabpage]
  return_type: void

- name: vim_subscribe
  async: false
  parameters:
  - [String, event]
  receives_channel_id: true
  return_type: void

- name: vim_unsubscribe
  async: false
  parameters:
  - [String, event]
  receives_channel_id: true
  return_type: void

- name: vim_name_to_color
  async: false
  parameters:
  - [String, name]
  return_type: Integer

- name: vim_get_color_map
  async: false
  parameters: []
  return_type: Dictionary

- name: vim_get_api_info
  async: true
  parameters: []
  receives_channel_id: true
  return_type: Array

- name: window_get_buffer
  async: false
  can_fail: true
  parameters:
  - [Window, window]
  return_type: Buffer

- name: window_get_cursor
  async: false
  can_fail: true
  parameters:
  - [Window, window]
  return_type: ArrayOf(Integer, 2)

- name: window_set_cursor
  async: false
  can_fail: true
  parameters:
  - [Window, window]
  - ['ArrayOf(Integer, 2)', pos]
  return_type: void

- name: window_get_height
  async: false
  can_fail: true
  parameters:
  - [Window, window]
  return_type: Integer

- name: window_set_height
  async: false
  can_fail: true
  parameters:
  - [Window, window]
  - [Integer, height]
  return_type: void

- name: window_get_width
  async: false
  can_fail: true
  parameters:
  - [Window, window]
  return_type: Integer

- name: window_set_width
  async: false
  can_fail: true
  parameters:
  - [Window, window]
  - [Integer, width]
  return_type: void

- name: window_get_var
  async: false
  can_fail: true
  parameters:
  - [Window, window]
  - [String, name]
  return_type: Object

- name: window_set_var
  async: false
  can_fail: true
  parameters:
  - [Window, window]
  - [String, name]
  - [Object, value]
  return_type: Object

- name: window_get_option
  async: false
  can_fail: true
  parameters:
  - [Window, window]
  - [String, name]
  return_type: Object

- name: window_set_option
  async: false
  can_fail: true
  parameters:
  - [Window, window]
  - [String, name]
  - [Object, value]
  return_type: void

- name: window_get_position
  async: false
  can_fail: true
  parameters:
  - [Window, window]
  return_type: ArrayOf(Integer, 2)

- name: window_get_tabpage
  async: false
  can_fail: true
  parameters:
  - [Window, window]
  return_type: Tabpage

- name: window_is_valid
  async: false
  parameters:
  - [Window, window]
  return_type: Boolean

 types:
  Buffer: {id: 0}
  Tabpage: {id: 2}
  Window: {id: 1}

